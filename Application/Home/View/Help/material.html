<!DOCTYPE html>
<html lang="zh-CN">
<head>
<title>{$title}-__SITENAME__</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="keywords" content="{$keywords}" />
<meta name="description" content="{$description}" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link href="http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
<link rel='stylesheet' type='text/css' href='http://x3dom.org/release/x3dom.css' />
<eq name="is_mobile" value="1">
<link rel="stylesheet" type="text/css" href="__BCS_PUBLIC__/css/mobile.style.css" />
<else/>
<link rel="stylesheet" type="text/css" href="__BCS_PUBLIC__/css/style.css" />
</eq>
<script type="text/javascript" src="http://x3dom.org/release/x3dom.js"></script>
<script type="text/javascript" src="__BCS_PUBLIC__/js/jquery-2.1.3.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="__BCS_PUBLIC__/js/jquery.validate.min.js"></script>
<script type="text/javascript" src="__BCS_PUBLIC__/js/sxm.js"></script>

<script>
	function changeColor(self,id){
		var color=$(self).val();
		color=colorRgb(color); 
		$("#mtr").attr(id,color);
		var html=$.trim($("appearance#target").html());
		$("#code").html(html);
	}
	function changeView() {
		var dou = ",";
		//头灯 开关
		var HL_checked = document.__getElementById("HL").checked;
		document.getElementById("head").setAttribute('headlight', HL_checked);
		//平行光 开关
		var DL_checked = document.__getElementById("DL").checked;
		document.getElementById("directional").setAttribute('on', DL_checked);
		//点光源 开关
		var PL_checked = document.__getElementById("PL").checked;
		document.getElementById("point").setAttribute('on', PL_checked);
		//聚光灯 开关
		var SL_checked = document.__getElementById("SL").checked;
		document.getElementById("spot").setAttribute('on', SL_checked);

		//环境光强度
		var ai = document.__getElementById("ai").value;
		document.getElementById("mtr").setAttribute('ambientIntensity', ai);
		
		//发光强度
		var si = document.__getElementById("si").value;
		document.getElementById("mtr").setAttribute('shininess', si);
		
		//透明度
		var ts = document.__getElementById("ts").value;
		document.getElementById("mtr").setAttribute('transparency', ts);
		
		//材质描述
		var description=document.__getElementById("description").value;
		document.getElementById("mtr").setAttribute('description', description);
		
		//模型形状
		var shape = document.__getElementById("shape").value;
		$("appearance#target").next().remove();
		$("appearance#target").after("<"+shape+"/>");		
		var html=$.trim($("appearance#target").html());
		$("#code").html(html);
	}
</script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?6c35b51dea6375850ce07c7228b81bec";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</head>

<body class="model_in">
	<input type='radio' name='model' id='modelcategory' checked="checked" />
	<input type='radio' name='model' id='myhide' />
	<div id='content'>
	<a id='slider' class='home' href='__ROOT__/'>
	<span class="glyphicon glyphicon-home" aria-hidden="true"></span>
	</a> 
	<label id='slider' class='modelcategory' for='modelcategory'>
	<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
	</label> 
	<label id='slider' class='myhide' for='myhide'>
	<span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
	</label>
	</div>
	<aside class="modelcategory margin_left">
	<div class="container-fluid" >
		<form id="modify_form" name="modify_form" action="__URL__/save" method="post" onkeydown="if(event.keyCode==13)return false;" role="form">
			<h3>材质编辑器Material Editor</h3>
			<div class="form-group">
                 <label for="title">材质描述description：</label>
                 <input type="text" name="description" id="description" placeholder="请对材质进行描述" onchange="changeView()" class="form-control" />
            </div>            		
			<h3>灯光Lights</h3>
			<div class="checkbox">
			<label>
				<input name="hl_on" type="checkbox"  id="HL" value="1" onchange="changeView()" checked="checked" />Head
			</label>
			<label>
				<input name="dl_on" type="checkbox" id="DL" value="1" onchange="changeView()" />Directional
			</label>
			<label>
				<input name="pl_on" type="checkbox" id="PL" value="1" onchange="changeView()" />Point
			</label>
			<label>
				<input name="sl_on" type="checkbox" id="SL" value="1" onchange="changeView()" checked="checked"/>Spot
			</label>
			</div>			
					
			<h3>材质Material</h3>
			<h6><strong>漫反射颜色</strong></h6>
			<div class="form-group">
			<div class="input-group">
                   <label class="sr-only" for="dc_input">diffuseColor</label>
                   <div class="input-group-addon">diffuseColor</div>
                   <input type="color" name="dc_input" id="dc_input" class="form-control" value="#cccccc" onchange="changeColor(this,'diffuseColor')"/>
            </div>
            </div>
            <h6><strong>自发光颜色</strong></h6>
			<div class="form-group">
			<div class="input-group">
                   <label class="sr-only" for="sc_input">emissiveColor</label>
                   <div class="input-group-addon">emissiveColor</div>
                   <input type="color" name="ec_input" id="ec_input" class="form-control" value="#000000" onchange="changeColor(this,'emissiveColor')"/>
            </div>
            </div>
            <h6><strong>高光颜色</strong></h6>
            <div class="form-group">
			<div class="input-group">
                   <label class="sr-only" for="sc_input">specularColor</label>
                   <div class="input-group-addon">specularColor</div>
                   <input type="color" name="sc_input" id="sc_input" class="form-control" value="#000000" onchange="changeColor(this,'specularColor')"/>
            </div>
            </div>            
            	
			<h6><strong>环境光强度</strong></h6>
			<div class="form-group">
			<div class="input-group">
                   <label class="sr-only" for="ai">ambientIntensity</label>
                   <div class="input-group-addon">ambientIntensity</div>
                   <input name="ai" max="1" min="0" step="0.01" type="range" id="ai" value="0.2" onchange="changeView()" onkeyup="clearNoNum(this)" class="form-control" />
            </div>
			</div>
			<h6><strong>发光强度</strong></h6>
			<div class="form-group">
			<div class="input-group">
                   <label class="sr-only" for="si">shininess</label>
                   <div class="input-group-addon">shininess</div>
                   <input name="si" max="1" min="0" step="0.01" type="range" id="si" value="0.2" onchange="changeView()" onkeyup="clearNoNum(this)" class="form-control" />
            </div>
            </div>
            <h6><strong>透明度</strong></h6>
			<div class="form-group">
			<div class="input-group">
                   <label class="sr-only" for="ts">transparency</label>
                   <div class="input-group-addon">transparency</div>
                   <input name="ts" max="1" min="0" step="0.01" type="range" id="ts" value="0" onchange="changeView()" onkeyup="clearNoNum(this)" class="form-control" />
            </div>
			</div>
			
            <div class="form-group">
               <label for="shape">模型形状</label>
                <select name="shape" id="shape" class="form-control" onchange="changeView()" >
				<option value="Sphere">球体Sphere</option>
				<option value="Box">方块Box</option>
				<option value="Cylinder">圆柱Cylinder</option>
				<option value="Cone">圆锥Cone</option>
				<option value="Torus">救生圈Torus</option>
			    </select> 
            </div>

			<div class="form-group">
                 <label for="description">输出代码Output Code</label>
                 <textarea name="description" id="code" class="form-control"></textarea>
            </div>
		</form>
	</div>
	</aside>

	<x3d id="model"> 
	<scene dopickpass="true" pickmode="idBuf" bboxsize="-1,-1,-1" bboxcenter="0,0,0" render="true" def="scene">
	<Viewpoint id='viewpoint' description='Default Viewpoint' position='0 0 5' orientation='0 0 1 0'></Viewpoint>
	<navigationInfo id="head" headlight='true' type='"turntable"' typeparams="0.0 0.0 0.2 1.4"></navigationInfo>
	<directionalLight id="directional" ambientIntensity='0.2' color='1,1,1' direction='0,-1,0' global='false' intensity='1' on='false' shadowCascades='1' shadowFilterSize='0' shadowIntensity='0' shadowMapSize='1024' shadowOffset='0' shadowSplitFactor='1' shadowSplitOffset='0.1' zFar='-1' zNear='-1'></directionalLight>
	<PointLight id="point" ambientIntensity='0.2' attenuation='1,0,0' color='1,1,1' global='false' intensity='1' location='-3,0,0' on='false' radius='100' shadowFilterSize='0' shadowIntensity='0' shadowMapSize='1024' shadowOffset='0' zFar='-1' zNear='-1' ></PointLight>
	<SpotLight id="spot" ambientIntensity='0.2' attenuation='1,0,0' beamWidth='1.5707963' color='1,1,1' cutOffAngle='1.5707963' direction='0,0,-1' global='false' intensity='1' location='2,2,0' on='true' radius='100' shadowCascades='1' shadowFilterSize='0' shadowIntensity='0' shadowMapSize='1024' shadowOffset='0' shadowSplitFactor='1' shadowSplitOffset='0.1' zFar='-1' zNear='-1' ></SpotLight>
	 
	<Environment bind='false' enableARC='false' frustumCulling='true' gammaCorrectionDefault='"linear"' isActive='false' lowPriorityCulling='false' lowPriorityFactor='-1' lowPriorityThreshold='1.0' maxFrameRate='62.5' minFrameRate='1.0' occlusionCulling='false' occlusionVisibilityFactor='-1' occlusionVisibilityThreshold='0.0' shadowExcludeTransparentObjects='false' smallFeatureCulling='false' smallFeatureFactor='-1' smallFeatureThreshold='1.0' sortTrans='true' SSAO='"false"' SSAOamount='"1.0"' SSAOblurDepthTreshold='"5"' SSAOradius='"4"' SSAOrandomTextureSize='"4"' tessellationDetailCulling='false' tessellationErrorFactor='-1' tessellationErrorThreshold='0.0' userDataFactor='-1' ></Environment>
	<Shape>
        <Appearance id="target">
		  <Material id="mtr" description='' ambientIntensity='0.2' diffuseColor='0.8,0.8,0.8' emissiveColor='0,0,0' shininess='0.2' specularColor='0,0,0' transparency='0' ></Material>          
        </Appearance>
        <Sphere/>
      </Shape>
    <transform id="s1" tag="basic" description="floor" rotation="0,0,1,0" scale="5,0.1,5" translation="0,-1.5,0" render="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1" center="0,0,0" scaleorientation="0,0,0,0">
      <shape render="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1" ispickable="true">
         <appearance sorttype="auto">
           <material diffusecolor="0.995,0.101,0.769" ambientintensity="0.2" emissivecolor="0,0,0" shininess="0.2" specularcolor="0,0,0">
           </material>
           <ImageTexture url='/Public/images/ground.jpg'/>
         </appearance>
         <Box/>
      </shape>
   </transform>
	</scene>
	</x3d>
<include file="Public:foot" />