<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="keywords" content="{$keywords}" />
    <meta name="description" content="{$description}" />    
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8'/>
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
       
    <title>手机浏览示范页面</title>
    <script type="text/javascript" src="../../js/x3dom.js"></script>
    <link rel='stylesheet' type='text/css' href='../../css/x3dom.css' />
    <script type="text/javascript" src="../../js/jquery-2.1.3.min.js"></script>
<style>
body {
	margin:0;
	padding:0;
}
#overlayHeader {
	position:absolute;
	z-index:5;
	top:50px;
	left:50px;
	padding:5px;
	color:#FFF;
	background-color:#000;
	opacity:0.5;
}
</style>
</head>
<body>
<div id="overlayHeader">
<h1>手机浏览示范页面</h1>
</div>
<x3d id='x3dElement' showStat='false' showLog='false' style='position: absolute; width:100%; height:100%; border:0; margin:0; padding:0;' disableTouch="true">
    <scene DEF='scene'>
        <viewpoint id="vpp" orientation='-0.21 0.97 0.0644 0.59193' position='40.15 1.42 -8.11813'></viewpoint>
        <navigationInfo type='"EXAMINE" "WALK"' id="navType"></navigationInfo>
        <!-- <background backUrl='"texture/BK.png"' bottomUrl='"texture/DN.png"' frontUrl='"texture/FR.png"' leftUrl='"texture/LF.png"' rightUrl='"texture/RT.png"' topUrl='"texture/UP.png"' ></background>  -->
        <directionalLight direction="0 -1 0" ></directionalLight>
        <background
		topurl="/Public/images/background/horizon_0_top.jpg"
		righturl="/Public/images/background/horizon_0_right.jpg"
		lefturl="/Public/images/background/horizon_0_left.jpg"
		fronturl="/Public/images/background/horizon_0_front.jpg"
		bottomurl="/Public/images/background/horizon_0_bottom.jpg"
		backurl="/Public/images/background/horizon_0_back.jpg"
		skyangle="1.57" groundangle="1.57" groundcolor="1,0,0" transparency="1.0"
		skycolor="0,0,0"> </background> 
		<Environment id="gamma"	gammaCorrectionDefault="linear"></Environment>		
		<Transform id="marker" scale="0.2,0.2,0.2" translation="0,0,0">
            <Shape id="point_sphere" render="false">
                <Appearance>
                    <Material diffuseColor="#FFD966" transparency="0.15"></Material>
                </Appearance>
                <Sphere></Sphere>
            </Shape>
        </Transform>	
	<group id="cn_3dant_diy" onclick="groupClick(event)"> <group id="cn_3dant_shared"> <transform id="s1" tag="shared"
		description="未命名" onmousedown="selectmodel(this)" rotation="0,0,1,0"
		scale="1,1,1" translation="0,0,0" render="true" bboxcenter="0,0,0"
		bboxsize="-1,-1,-1" center="0,0,0" scaleorientation="0,0,0,0">
	<inline namespacename="in" tag="cn_3dant_inline" mapdeftoid="true"
		url="/Public/upload/bc9d82af10ad7f66923ecb9affeecb4d/model.x3d"
		render="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1" load="true"></inline></transform>
	<transform id="s2" tag="shared" description="cube1"
		onmousedown="selectmodel(this)" rotation="-0.641,-0.757,0.128,1.188"
		scale="0.5,0.5,0.5" translation="42.4,0.7,-9.322" render="true"
		bboxcenter="0,0,0" bboxsize="-1,-1,-1" center="0,0,0"
		scaleorientation="0,0,0,0" position="0,0,0">
	<inline namespacename="in" tag="cn_3dant_inline" mapdeftoid="true"
		url="/Public/upload/fede7d17f530d53e88199565ac7c7eea/model.x3d"
		render="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1" load="true"></inline></transform>
	<transform id="s3" tag="shared" description="未命名"
		onmousedown="selectmodel(this)" rotation="0,0,1,0" scale="1,1,1"
		translation="52.061,1.309,-12.738" render="true" bboxcenter="0,0,0"
		bboxsize="-1,-1,-1" center="0,0,0" scaleorientation="0,0,0,0">
	<inline namespacename="in" tag="cn_3dant_inline" mapdeftoid="true"
		url="/Public/upload/fede7d17f530d53e88199565ac7c7eea/model.x3d"
		render="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1" load="true"></inline></transform>
	<transform id="s4" tag="shared" description="未命名"
		onmousedown="selectmodel(this)" rotation="0,0,1,0" scale="1,1,1"
		translation="36.307,0.483,-5.631" render="true" bboxcenter="0,0,0"
		bboxsize="-1,-1,-1" center="0,0,0" scaleorientation="0,0,0,0">
	<inline namespacename="in" tag="cn_3dant_inline" mapdeftoid="true"
		url="/Public/upload/fede7d17f530d53e88199565ac7c7eea/model.x3d"
		render="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1" load="true"></inline></transform>
	<transform id="s5" tag="shared" description="未命名"
		onmousedown="selectmodel(this)" rotation="0,0,1,0" scale="1,1,1"
		translation="42.948,3.008,-6.807" render="true" bboxcenter="0,0,0"
		bboxsize="-1,-1,-1" center="0,0,0" scaleorientation="0,0,0,0">
	<inline namespacename="in" tag="cn_3dant_inline" mapdeftoid="true"
		url="/Public/upload/fede7d17f530d53e88199565ac7c7eea/model.x3d"
		render="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1" load="true"></inline></transform>
	<transform id="s6" tag="shared" description="未命名"
		onmousedown="selectmodel(this)" rotation="0,0,1,0" scale="1,1,1"
		translation="32.96,0.269,-13.508" render="true" bboxcenter="0,0,0"
		bboxsize="-1,-1,-1" center="0,0,0" scaleorientation="0,0,0,0">
	<inline DEF="inline" namespacename="in" tag="cn_3dant_inline" mapdeftoid="true"
		url="/Public/upload/fede7d17f530d53e88199565ac7c7eea/model.x3d"
		render="true" bboxcenter="0,0,0" bboxsize="-1,-1,-1" load="true"></inline></transform>
	<transform id="s7" tag="shared" description="未命名"
		onmousedown="selectmodel(this)" rotation="0,0,1,0" scale="1,1,1"
		translation="32.96,1.269,-13.508" render="true" bboxcenter="0,0,0"
		bboxsize="-1,-1,-1" center="0,0,0" scaleorientation="0,0,0,0">
	<inline USE="inline"></inline></transform>
	</group> <group id="cn_3dant_basic">
	
			</group>
	<group id="cn_3dant_internet">
	
			</group>	
	</group>	

    </scene>
</x3d>
<script>
/*
    var runtime = null;
    var degreeToRadiansFactor = Math.PI / 180;

    x3dom.fields.Quaternion.prototype.setFromEulerYXZ = function (alpha, beta, gamma) {

        var c1 = Math.cos( alpha / 2 );
        var c2 = Math.cos( beta / 2 );
        var c3 = Math.cos( gamma / 2 );
        var s1 = Math.sin( alpha / 2 );
        var s2 = Math.sin( beta / 2 );
        var s3 = Math.sin( gamma / 2 );

        this.x = s1 * c2 * c3 + c1 * s2 * s3;
        this.y = c1 * s2 * c3 - s1 * c2 * s3;
        this.z = c1 * c2 * s3 - s1 * s2 * c3;
        this.w = c1 * c2 * c3 + s1 * s2 * s3;
    }

    var MYAPP={"deviceOrientation":null, "screenOrientation":null};
    onDeviceOrientationChangeEvent = (function(rawEvtData) {
        this.deviceOrientation = rawEvtData;
    }).bind(MYAPP);

    window.addEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);

    function deg2rad(deg){return deg * degreeToRadiansFactor;}

    document.onload = function ()
    {
        runtime = document.getElementById('x3dElement').runtime;
        var element = document.getElementById("x3dElement");
        MYAPP.viewpoint = document.getElementById('vpp');
        element.runtime.exitFrame = function() {
            //handle device orientation change
            if(!MYAPP.deviceOrientation)
                return;
            var q0 = x3dom.fields.Quaternion.axisAngle(new x3dom.fields.SFVec3f(0,0,1),-deg2rad(window.orientation)); // phone rotation offset
            var q = new x3dom.fields.Quaternion();
            q.setFromEulerYXZ(deg2rad(MYAPP.deviceOrientation.beta), deg2rad(MYAPP.deviceOrientation.alpha), -deg2rad(MYAPP.deviceOrientation.gamma));

            var q1 = new x3dom.fields.Quaternion.axisAngle(new x3dom.fields.SFVec3f(1,0,0),-Math.PI/2); // device orientation points upwards. rotate down to camera orientation

            q = q.multiply(q1);
            q = q.multiply(q0);

            var aa = q.toAxisAngle();

            MYAPP.viewpoint.setAttribute("orientation", aa[0].x + " " + aa[0].y + " " + aa[0].z + " " + aa[1]);
        };
    }
*/
</script>
</body>
</html>